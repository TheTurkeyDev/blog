---
title: "GMTK 2022"
date: 2022-09-20T16:08:44-04:00
draft: true
---

{{< youtube >}}

In the past 9 years I have participated in the Ludum Dare game Jam a total of 16 times. My games during that span have really evolved and gotten better and my programming skills have improved even more impressively, but Ludum Dare was the only Game jam I participated in. I hadn’t given GMTK or any of the other hundreds of game jams that a shot. Until now that is, because for the first time I have decided to make a game for the GMTK 2022 game jam. The reason I ended up participating in this GTMK game jam was because of the theme "Roll of the Dice". Now if you don’t know who I am or my Minecraft mod Chance Cubes where I added dice like blocks to Minecraft that give huge and crazy rewards, well lets just say I felt like I had to give this theme a shot. Beyond my Minecraft mods though, another thing you should know about me is that I don’t like making games through traditional means. Instead I opt for using crazy game engines or sometimes arbitrary and ridiculous rules for myself and this game will be no different. This game specifically had a few arbitrary rules, but also just a lot of real world circumstances that made this game a real challenge. To start, the theme for GMTK was released at 10am Pacific Time, which is where I was, on my final day of vacation, with a flight back to the east coast at 10am the following day. Essentially I lost half of my time to work on the game and the only thing I could do during that period was brainstorm and outline a simple HTML web page so that when I took off for my flight the next day, I could spend the next 4 and a half hours in the air cranking out the core of my game. Now that’s not too bad, but remember, I'm trying to make a web based game on my laptop, from the middle seat of a plane, all without internet access because I’m not about to pay for inflight wifi. So if there was anything I didn’t know how to do, which there was, I was tough out of luck. Now this is usually the part of my video where I start explaining my coding process and highlighting the key bits of code, and I will, but bare with me because this was far from ideal conditions and I lacked the ability to do a lot of the normal things I do to help me make these video after I completing the project. 

Like I mentioned, the first day was spent just coming up with an idea and planning out what exactly I was going to do. I scribbled down some notes that night and a rough outline of my planned game play and set off to scaffold as much as I could before my flight and before I lost internet access and could no longer look up how to do things. This was very key, as while VSCode has intellisense, its javascript stuff isn’t the best, especially when it comes to canvas drawing methods, so getting as much example code spit out as I could to then reference later was key. Now unfortunately I don’t have any screen grabs of what the game looked like before my flight, but all there was was a simple HTML5 canvas on the page with a rows of the dots that made up the game grid, hard coded in. I also added the base logic for capturing mouse clicks because I was 100% certain I’d have no idea how to do that without Googling.

At this point I was now in the air and no longer had access to any help beyond my own knowledge and what the IDE provided me. With that being said, my first task was to get the grid points to auto generate themselves when the game starts, which a simple for loop accomplished. Next up, I wanted to add the logic to be able to click on a point and then connect a line between it and an adjacent point. This is when I ran into my first issue with having no access to Googling for resources because I have forgotten how to both render a line with canvas and also change the color of a line and shape. Ok, forgot might be a bit extreme because I vaguely knew how to do this. I knew there was a method called lineTo that I could call to draw a line, but I couldn’t remember how to use it. Specifically I thought it took 4 method parameters, from x and y and destination x and y values. For changing the colors of things, I know there were 2 variable values on the context starting with fill and stroke, but I initially tried to use fillColor and strokeColor. Honestly this whole challenge of trying to make this game essentially without the internet for a large chunk of the development time was very interesting and it showed me that I both really knew what I was doing, but that also small stuff like this that’s a quick Google search away I very much take for granted. I could have coded 95% of this game just from my raw knowledge, but without that 5% I didn’t know perfectly, this game just doesn’t work. Luckily for me I do have 1 trick up my sleeve and that is the browser itself. I’m writing this game purely in JavaScript which is an interpreted language, with the key here being that your browser is the interpreter and engine for running your javascript code. One amazing feature of modern web browsers is their developer tools, specifically the developer console where not only can you see your console messages, but also input your own javascript code. Now again, because it’s an interpreted language, I can create a new canvas context variable from the cavas already on the screen and now if i attempt to use that variable, Chrome will happily provide me the available methods I can use and from this I can derive that lineTo takes in only 2 parameters and that I should actually be using moveTo to change where the line starts from. For changing the color of what is being drawn, strokeStyle will change the stroke color and fillStyle will change the fill color. Problem solving is a very handy skill as a programmer, as an engineer, and just as a person in general. Figuring out how to solve a problem, no matter how weird or arbitrary it is, is incredibly helpful and honestly is just fun to see what whacky solutions you can come up with.

Ok, enough of my tangent here. With my newly acquired knowledge in hand, I was able to hook up the on click logic and draw lines to connect points together. This was the first screen shot I took on my flight and you can see the green dot here is your players current position and then after clicking on the point at the other end of your line segments the game will highlight the valid destinations you can make a new line segment to in blue. At this point I did allow diagonal connections, but I would later remove this option as it was a bit too powerful.

With the grid set and path choosing added, next up was to actually complete a turn and move the player to the end of the line. This was pretty easy as I just added a button to the webpage that when clicked moved the player to the grid location stored at the end of this linePoints array. This array was very helpful as it not only allowed me to easily draw out the line, but the 0th index was the player’s position and the last index represented the furthest point the path has reached. This makes the logic for determining if you can continue the path from a given grid position very easy, but more importantly allowed me to easily remove the section of path after a grid point if you click on a point already in the path to remake the path from that point. 

At this time I also added the dice to the screen that would roll to determine the number of moves you got for a given turn. The dice were constructed from a div with each of the 7 die pips in a 3x3 grid. From there it’s as simple as changing the opacity of each of the pip elements from 0 to 100 percent depending upon what number is displayed and the corresponding value in this mapping. I’ll come back to the CPU’s dice later as I plan to make it a 3 sided die giving numbers 1 through 3. Don’t question the logic of how that works. 

The last little bit I added as my plane was getting ready to descend to my destination was to add some better game state logic. This allowed me to add a nice dice animation to simulate rolling during which the player cannot make any moves and then after making their desired path, clicking the end turn button will move the player to the final path position and proceed to roll the dice starting the loop over again.

While this doesn’t look like much, for just over 4 hours while being squished in the middle seat of an airplane without internet, I’m honestly very happy with the progress and work I was able to complete.

Now that I’m finally home though it was time to really get down to business and I started with major quality of life improvements to the game play. First I found some public domain sounds to add to the grid point selection and erasing. Then I also added a nice scroll animation to the game board before the dice rolling period so that the player always starts from the same vertical position on the screen each round. I did also add a “lava” orange block that will act as the computer, but for now it doesn’t move and new grid points don’t generate when the grid shifts down, so that’ll be next up. Oh also I added text that says rolling with a gradient background to make it more apparent to the user that they can’t move yet.

The process of adding endless scrolling to the game wasn’t too bad. Simply add a row of points for each row the player moves up in a given turn. This works, but I do need to address the issue of the list growing infinitely in size as I add more and more points. Luckily a fix for this isn’t too hard either as I can simply loop over the list of points and remove any that are a certain distance below the players current y height. Making the lava move was also as simple as making it animate the same as the grid points do, but keeping track of it’s own offset relative to the player in addition to the player's offset so that it renders the correct distance away from the player. I also made the lava occupy the halfway point between grid points to make it more clear when you get caught by it.

All that’s missing now is to add a game over state for when the Lava catches you and to allow you to reset and play again. Here I also output the score and also added some logic to save your high score to the local browser storage. Because this is an endless game I don’t need to worry about a winning screen since you can’t really win. I also learned how to make this triangle die via some CSS wizardry that I 100% Googled.

And with that the core game play loop is complete! Unfortunately I only had a few hours left, so very little time to try and balance the game. I added an effect power up or power down system that you can collect if you visit certain points. These powers simply affect your die roll in some capacity by either adding or subtracting some amount from the roll, or changing the numbers on your die. I also added logic to remove some grid points to create holes in the grid and add challenges there. As you get further away from the Lava the game will get harder by spawning more holes and power downs in an attempt to have some sort of difficulty scaling. This worked ok, but was still nothing amazing. I also made the computer's Die switch to a regular 6 sided die after a certain amount of rolls to make it more even, but that also brought a bit of true RNG into the game that you can’t really “out skill”.

Overall the game itself was ok. I kinda backed myself into a corner on the RNG front and made a game that needs a lot of balancing in order to counter all the RNG and not leave the game outcome to chance. This was time that I just didn’t have to spend though and the final product of the game really just falls short. Though for me the end game results are never really the main focus as it’s more about working within the challenges I give myself and having fun, but when the game doesn’t match what I put into it, it really makes it all seem not as impressive. At the end of the day though, this game was more of a proof of concept than it was a real game and hopefully making this video will help me and you guys appreciate the work I put in. As always source code for the game will be linked in the description below as well as a link to play the game. Hopefully you guys have enjoyed this crazy journey of making a game, but that’s all I have for now. Thank you all for watching, I’ll catch you guys next time. Peace out
